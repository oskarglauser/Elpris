{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/oskarglauser/Sites/elpris/components/shared/BottomNav.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport { Home, BarChart3, Zap, User } from 'lucide-react';\n\ninterface NavItem {\n  label: string;\n  icon: React.ReactNode;\n  href: string;\n}\n\nexport function BottomNav({ prototypePrefix = '' }: { prototypePrefix?: string }) {\n  const pathname = usePathname();\n\n  const navItems: NavItem[] = [\n    {\n      label: 'Hem',\n      icon: <Home className=\"w-5 h-5\" />,\n      href: prototypePrefix || '/',\n    },\n    {\n      label: 'Insikter',\n      icon: <BarChart3 className=\"w-5 h-5\" />,\n      href: `${prototypePrefix}/insights`,\n    },\n    {\n      label: 'Enheter',\n      icon: <Zap className=\"w-5 h-5\" />,\n      href: `${prototypePrefix}/devices`,\n    },\n    {\n      label: 'Profil',\n      icon: <User className=\"w-5 h-5\" />,\n      href: `${prototypePrefix}/profile`,\n    },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-white\">\n      <div className=\"flex items-center justify-around px-4 py-2 max-w-md mx-auto\">\n        {navItems.map((item) => {\n          const isActive = pathname === item.href;\n          return (\n            <Link\n              key={item.label}\n              href={item.href}\n              className={`flex flex-col items-center gap-1 px-4 py-2 transition-colors ${\n                isActive ? 'text-foreground' : 'text-muted-foreground'\n              }`}\n            >\n              <div className={isActive ? 'text-foreground' : ''}>{item.icon}</div>\n              <span className=\"text-xs\">{item.label}</span>\n            </Link>\n          );\n        })}\n      </div>\n    </nav>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;AAaO,SAAS,UAAU,KAAsD;QAAtD,EAAE,kBAAkB,EAAE,EAAgC,GAAtD;;IACxB,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,WAAsB;QAC1B;YACE,OAAO;YACP,oBAAM,6LAAC,8MAAI;gBAAC,WAAU;;;;;;YACtB,MAAM,mBAAmB;QAC3B;QACA;YACE,OAAO;YACP,oBAAM,6LAAC,kOAAS;gBAAC,WAAU;;;;;;YAC3B,MAAM,AAAC,GAAkB,OAAhB,iBAAgB;QAC3B;QACA;YACE,OAAO;YACP,oBAAM,6LAAC,0MAAG;gBAAC,WAAU;;;;;;YACrB,MAAM,AAAC,GAAkB,OAAhB,iBAAgB;QAC3B;QACA;YACE,OAAO;YACP,oBAAM,6LAAC,6MAAI;gBAAC,WAAU;;;;;;YACtB,MAAM,AAAC,GAAkB,OAAhB,iBAAgB;QAC3B;KACD;IAED,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACE,6LAAC,0KAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,AAAC,gEAEX,OADC,WAAW,oBAAoB;;sCAGjC,6LAAC;4BAAI,WAAW,WAAW,oBAAoB;sCAAK,KAAK,IAAI;;;;;;sCAC7D,6LAAC;4BAAK,WAAU;sCAAW,KAAK,KAAK;;;;;;;mBAPhC,KAAK,KAAK;;;;;YAUrB;;;;;;;;;;;AAIR;GA/CgB;;QACG,oJAAW;;;KADd","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/oskarglauser/Sites/elpris/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/oskarglauser/Sites/elpris/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded py-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///Users/oskarglauser/Sites/elpris/lib/electricity-api.ts"],"sourcesContent":["// Type definitions for 15-minute electricity price data\nexport interface PriceInterval {\n  time_start: string; // ISO 8601 DateTime with timezone\n  time_end: string; // ISO 8601 DateTime with timezone\n  SEK_per_kWh: number; // Electricity spot price in SEK per kWh\n}\n\nexport interface ElectricityPriceResponse {\n  data: PriceInterval[];\n}\n\nexport type Region = 'SE1' | 'SE2' | 'SE3' | 'SE4';\n\n/**\n * Fetch electricity prices for a specific date and region\n * @param year - Four-digit year (YYYY)\n * @param month - Two-digit month (MM)\n * @param day - Two-digit day (DD)\n * @param region - Swedish electricity price region (SE1-SE4)\n * @returns Array of 96 price intervals (24 hours × 4 intervals per hour)\n */\nexport async function fetchElectricityPrices(\n  year: string,\n  month: string,\n  day: string,\n  region: Region = 'SE3'\n): Promise<PriceInterval[]> {\n  const url = `https://www.elprisetjustnu.se/api/v1/prices/${year}/${month}-${day}_${region}.json`;\n\n  try {\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      if (response.status === 404) {\n        throw new Error(`Data ej tillgänglig för ${year}-${month}-${day}. Morgondagens priser publiceras tidigast kl 13:00.`);\n      }\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n\n    const data: PriceInterval[] = await response.json();\n\n    if (!Array.isArray(data) || data.length === 0) {\n      throw new Error('Tom eller ogiltig data från API');\n    }\n\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      throw error;\n    }\n    throw new Error('Nätverksfel: Kunde inte hämta elpriser');\n  }\n}\n\n/**\n * Get current date formatted for API\n */\nexport function getCurrentDate(): { year: string; month: string; day: string } {\n  const now = new Date();\n  const year = now.getFullYear().toString();\n  const month = (now.getMonth() + 1).toString().padStart(2, '0');\n  const day = now.getDate().toString().padStart(2, '0');\n  \n  return { year, month, day };\n}\n\n/**\n * Fetch today's electricity prices\n */\nexport async function fetchTodaysPrices(region: Region = 'SE3'): Promise<PriceInterval[]> {\n  const { year, month, day } = getCurrentDate();\n  return fetchElectricityPrices(year, month, day, region);\n}\n\n/**\n * Get tomorrow's date formatted for API\n */\nexport function getTomorrowDate(): { year: string; month: string; day: string } {\n  const tomorrow = new Date();\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  \n  const year = tomorrow.getFullYear().toString();\n  const month = (tomorrow.getMonth() + 1).toString().padStart(2, '0');\n  const day = tomorrow.getDate().toString().padStart(2, '0');\n  \n  return { year, month, day };\n}\n\n/**\n * Fetch tomorrow's electricity prices\n */\nexport async function fetchTomorrowsPrices(region: Region = 'SE3'): Promise<PriceInterval[]> {\n  const { year, month, day } = getTomorrowDate();\n  return fetchElectricityPrices(year, month, day, region);\n}\n\n/**\n * Fetch both today's and tomorrow's prices\n */\nexport async function fetchTodayAndTomorrowPrices(region: Region = 'SE3'): Promise<{\n  today: PriceInterval[];\n  tomorrow: PriceInterval[];\n}> {\n  try {\n    const [today, tomorrow] = await Promise.all([\n      fetchTodaysPrices(region),\n      fetchTomorrowsPrices(region).catch((err) => {\n        console.info('Morgondagens priser är inte tillgängliga än:', err.message);\n        return [];\n      }),\n    ]);\n\n    if (today.length === 0) {\n      throw new Error('Inga elpriser tillgängliga för idag');\n    }\n\n    return { today, tomorrow };\n  } catch (error) {\n    console.error('Error fetching prices:', error);\n    throw error;\n  }\n}\n\n/**\n * Get the current price interval based on current time\n */\nexport function getCurrentPriceInterval(prices: PriceInterval[]): PriceInterval | null {\n  const now = new Date();\n  \n  for (const interval of prices) {\n    const start = new Date(interval.time_start);\n    const end = new Date(interval.time_end);\n    \n    if (now >= start && now < end) {\n      return interval;\n    }\n  }\n  \n  return null;\n}\n\n/**\n * Calculate price statistics\n */\nexport function calculatePriceStats(prices: PriceInterval[]) {\n  if (prices.length === 0) {\n    return { min: 0, max: 0, average: 0 };\n  }\n  \n  const priceValues = prices.map(p => p.SEK_per_kWh);\n  const min = Math.min(...priceValues);\n  const max = Math.max(...priceValues);\n  const average = priceValues.reduce((sum, price) => sum + price, 0) / priceValues.length;\n  \n  return { min, max, average };\n}\n\n/**\n * Get price level (low, medium, high) based on comparison to average\n */\nexport function getPriceLevel(price: number, average: number): 'low' | 'medium' | 'high' {\n  const threshold = average * 0.2; // 20% threshold\n  \n  if (price < average - threshold) return 'low';\n  if (price > average + threshold) return 'high';\n  return 'medium';\n}\n\n/**\n * Format time for display (e.g., \"Idag, 12:00-13:00\")\n */\nexport function formatTimeRange(start: string, end: string): string {\n  const startTime = new Date(start).toLocaleTimeString('sv-SE', {\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n  const endTime = new Date(end).toLocaleTimeString('sv-SE', {\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n  \n  return `Idag, ${startTime}-${endTime}`;\n}\n\n/**\n * Format price for display\n */\nexport function formatPrice(price: number): string {\n  return `${price.toFixed(1)} öre/kWh`;\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/oskarglauser/Sites/elpris/components/prototypes/prototype-g/SpotPriceChart.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Card } from '@/components/ui/card';\nimport Link from 'next/link';\nimport { ChevronRight } from 'lucide-react';\nimport { \n  fetchTodayAndTomorrowPrices, \n  PriceInterval, \n  formatTimeRange,\n  getCurrentPriceInterval \n} from '@/lib/electricity-api';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  LineController,\n  Title,\n  Tooltip,\n  Legend,\n  Filler,\n  ChartOptions,\n} from 'chart.js';\nimport annotationPlugin from 'chartjs-plugin-annotation';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  LineController,\n  Title,\n  Tooltip,\n  Legend,\n  Filler,\n  annotationPlugin\n);\n\nexport function SpotPriceChart({ prototypeId }: { prototypeId: string }) {\n  const [prices, setPrices] = useState<PriceInterval[]>([]);\n  const [displayedInterval, setDisplayedInterval] = useState<PriceInterval | null>(null);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const chartRef = useRef<ChartJS<'line'> | null>(null);\n\n  useEffect(() => {\n    async function loadPrices() {\n      try {\n        const { today, tomorrow } = await fetchTodayAndTomorrowPrices();\n        const allPrices = [...today, ...tomorrow];\n        setPrices(allPrices);\n        const current = getCurrentPriceInterval(allPrices);\n        setDisplayedInterval(current);\n        setError(null);\n      } catch (error) {\n        console.error('Failed to load prices:', error);\n        setError(error instanceof Error ? error.message : 'Failed to load electricity prices');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadPrices();\n  }, []);\n\n  if (loading) {\n    return (\n      <Card className=\"p-4 bg-card border-border\">\n        <div className=\"h-64 flex items-center justify-center\">\n          <div className=\"text-muted-foreground\">Loading prices...</div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (error || prices.length === 0) {\n    return (\n      <Card className=\"p-4 bg-card border-border\">\n        <div className=\"h-64 flex flex-col items-center justify-center gap-4\">\n          <div className=\"text-muted-foreground text-center\">\n            {error || 'No price data available'}\n          </div>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90\"\n          >\n            Retry\n          </button>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"p-6 bg-card\">\n      <Link href={`/prototype-${prototypeId}/detail`} className=\"block\">\n        <div className=\"flex justify-between items-start mb-[-20] mt-[-10] cursor-pointer\">\n          <h2 className=\"text-xl font-normal text-[#1a1a1a]\">Dagens spotpris</h2>\n          <ChevronRight className=\"w-5 h-5 text-[#666]\" />\n        </div>\n      </Link>\n      <p className=\"text-sm text-[#666] mb-[-10]\">Inklusive moms, exklusive avgifter</p>\n\n      {displayedInterval && (\n        <div className=\"bg-card border border-[#e5e5e5] rounded px-5 py-2.5 flex justify-between items-center mb-[-10]\">\n          <div className=\"flex items-center gap-2 text-[#1a1a1a] text-base\">\n            <span>{(() => {\n              const currentInterval = getCurrentPriceInterval(prices);\n              const isCurrentTime = currentInterval &&\n                displayedInterval.time_start === currentInterval.time_start &&\n                displayedInterval.time_end === currentInterval.time_end;\n\n              const startTime = new Date(displayedInterval.time_start).toLocaleTimeString('sv-SE', {\n                hour: '2-digit',\n                minute: '2-digit',\n              });\n              const endTime = new Date(displayedInterval.time_end).toLocaleTimeString('sv-SE', {\n                hour: '2-digit',\n                minute: '2-digit',\n              });\n\n              return isCurrentTime ? `Just nu, ${startTime}-${endTime}` : `Idag, ${startTime}-${endTime}`;\n            })()}</span>\n          </div>\n          <div className=\"text-[#1a1a1a] text-base font-semibold\">\n            {(displayedInterval.SEK_per_kWh * 100).toFixed(1)} öre\n          </div>\n        </div>\n      )}\n\n      <div className=\"relative h-[200px]\">\n        <RollingLineChart \n          prices={prices} \n          chartRef={chartRef}\n          onIntervalChange={(interval, index) => {\n            setDisplayedInterval(interval);\n            setSelectedIndex(index);\n          }}\n          onReset={() => {\n            setDisplayedInterval(getCurrentPriceInterval(prices));\n            setSelectedIndex(null);\n          }}\n        />\n      </div>\n    </Card>\n  );\n}\n\nfunction RollingLineChart({\n  prices,\n  chartRef,\n  onIntervalChange,\n  onReset\n}: {\n  prices: PriceInterval[];\n  chartRef: React.RefObject<ChartJS<'line'> | null>;\n  onIntervalChange: (interval: PriceInterval, index: number) => void;\n  onReset: () => void;\n}) {\n  const [activeIndexInWindow, setActiveIndexInWindow] = useState<number | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const internalChartRef = useRef<ChartJS | null>(null);\n  const activeIndexRef = useRef<number | null>(null);\n\n  // Keep refs in sync with state\n  useEffect(() => {\n    activeIndexRef.current = activeIndexInWindow;\n  }, [activeIndexInWindow]);\n\n  const crosshairPlugin = {\n    id: 'crosshair',\n    afterDraw: (chart: ChartJS) => {\n      const activeIdx = activeIndexRef.current;\n      if (activeIdx !== null && activeIdx >= 0) {\n        const ctx = chart.ctx;\n        const meta = chart.getDatasetMeta(0);\n        const dataPoint = meta.data[activeIdx];\n\n        if (dataPoint) {\n          const x = dataPoint.x;\n          const y = dataPoint.y;\n\n          ctx.save();\n          ctx.beginPath();\n          ctx.arc(x, y, 4, 0, 2 * Math.PI);\n          ctx.fillStyle = '#000000';\n          ctx.fill();\n          ctx.restore();\n        }\n      }\n    }\n  };\n\n  // Get current time and create 18-hour window starting from current hour\n  const now = new Date();\n  const currentInterval = getCurrentPriceInterval(prices);\n  const currentIndex = prices.findIndex(p =>\n    new Date(p.time_start) <= now && new Date(p.time_end) > now\n  );\n\n  if (currentIndex === -1 || !currentInterval) {\n    return <div className=\"text-muted-foreground\">No price data available</div>;\n  }\n\n  // Get the start hour\n  const currentStart = new Date(currentInterval.time_start);\n  const currentHour = currentStart.getHours();\n\n  // Find the start of one hour back from current time\n  const oneHourBackIndex = Math.max(0, currentIndex - 4); // Go back 4 intervals (1 hour)\n  const oneHourBackStart = new Date(prices[oneHourBackIndex].time_start);\n  const oneHourBackHour = oneHourBackStart.getHours();\n\n  // Find the start of the hour that's one hour back (first interval of that hour)\n  const hourStartIndex = prices.findIndex(p => {\n    const start = new Date(p.time_start);\n    return start.getHours() === oneHourBackHour && start.getMinutes() === 0;\n  });\n\n  // Create 18-hour slice (72 intervals: 18 hours × 4 quarters each)\n  const windowStart = hourStartIndex >= 0 ? hourStartIndex : oneHourBackIndex;\n  const windowEnd = Math.min(windowStart + 72, prices.length);\n  const windowIntervals = prices.slice(windowStart, windowEnd);\n\n  // Calculate price range\n  const priceValues = windowIntervals.map(p => p.SEK_per_kWh * 100); // Convert to öre\n  const minPrice = Math.min(...priceValues);\n  const maxPrice = Math.max(...priceValues);\n  const avgPrice = priceValues.reduce((a, b) => a + b, 0) / priceValues.length;\n\n  // Current index within the window\n  const currentIndexInWindow = currentIndex - windowStart;\n\n  useEffect(() => {\n    if (!canvasRef.current || windowIntervals.length === 0) return;\n\n    if (internalChartRef.current) {\n      internalChartRef.current.destroy();\n    }\n\n    const ctx = canvasRef.current.getContext('2d');\n    if (!ctx) return;\n\n    // Create labels - show hours and minutes\n    const labels = windowIntervals.map((interval) => {\n      const start = new Date(interval.time_start);\n      const h = String(start.getHours()).padStart(2, '0');\n      const m = String(start.getMinutes()).padStart(2, '0');\n      return `${h}:${m}`;\n    });\n\n    const gradient = ctx.createLinearGradient(0, 0, 0, 200);\n    gradient.addColorStop(0, 'rgba(215, 51, 51, 0.1)');\n    gradient.addColorStop(0.45, 'rgba(255, 193, 7, 0.1)');\n    gradient.addColorStop(0.8, 'rgba(0, 154, 51, 0.1)');\n    gradient.addColorStop(1, 'rgba(0, 154, 51, 0.05)');\n\n    const annotations: any = {};\n\n    // Add current time line with \"Nu\" label (black dashed)\n    if (currentIndexInWindow >= 0 && currentIndexInWindow < windowIntervals.length) {\n      annotations.currentTime = {\n        type: 'line',\n        xMin: currentIndexInWindow,\n        xMax: currentIndexInWindow,\n        borderColor: '#000000',\n        borderWidth: 2,\n        borderDash: [5, 5],\n        label: {\n          display: true,\n          content: 'Nu',\n          position: 'start',\n          backgroundColor: '#000000',\n          color: '#FFFFFF',\n          font: { size: 11 },\n          padding: 4\n        }\n      };\n    }\n\n    const chart = new ChartJS(canvasRef.current, {\n      type: 'line',\n      plugins: [crosshairPlugin],\n      data: {\n        labels: labels,\n        datasets: [{\n          label: 'Pris (öre/kWh)',\n          data: priceValues,\n          borderColor: '#191919',\n          backgroundColor: gradient,\n          borderWidth: 1.5,\n          fill: 'origin',\n          stepped: true,\n          pointRadius: 0,\n          pointHoverRadius: 0,\n          segment: {\n            borderColor: (ctx) => {\n              const price = ctx.p1.parsed.y;\n              if (price == null) return '#FFC107';\n              if (price < avgPrice * 0.85) return '#009A33';\n              if (price >= avgPrice * 1.15) return '#D73333';\n              return '#FFC107';\n            }\n          }\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        interaction: {\n          mode: 'nearest',\n          intersect: false,\n          axis: 'x'\n        },\n        onHover: (event, activeElements) => {\n          if (activeElements.length > 0) {\n            const windowIndex = activeElements[0].index;\n            const globalIndex = windowStart + windowIndex;\n            setActiveIndexInWindow(windowIndex);\n            onIntervalChange(prices[globalIndex], globalIndex);\n          }\n        },\n        onClick: (event, activeElements) => {\n          if (activeElements.length > 0) {\n            const windowIndex = activeElements[0].index;\n            const globalIndex = windowStart + windowIndex;\n            setActiveIndexInWindow(windowIndex);\n            onIntervalChange(prices[globalIndex], globalIndex);\n          }\n        },\n        plugins: {\n          legend: { display: false },\n          tooltip: { enabled: false },\n          annotation: {\n            annotations\n          }\n        },\n        scales: {\n          y: {\n            display: false,\n            beginAtZero: false,\n            min: Math.floor(minPrice * 0.95),\n            max: Math.ceil(maxPrice * 1.05),\n            grid: {\n              display: false\n            },\n            border: {\n              display: false\n            }\n          },\n          x: {\n            ticks: {\n              font: { size: 11 },\n              color: '#000000',\n              maxRotation: 0,\n              minRotation: 0,\n              autoSkip: true,\n              maxTicksLimit: typeof window !== 'undefined' && window.innerWidth < 640 ? 6 : 12,\n              padding: 0,\n              callback: function(value, index) {\n                const label = this.getLabelForValue(value as number);\n                return label.split(':')[0];\n              }\n            },\n            grid: {\n              display: false\n            }\n          }\n        }\n      }\n    });\n\n    internalChartRef.current = chart;\n\n    return () => {\n      if (internalChartRef.current) {\n        internalChartRef.current.destroy();\n      }\n    };\n  }, [windowStart, windowEnd, currentIndexInWindow]);\n\n  // Update active line annotation and dot when hovering without recreating chart\n  useEffect(() => {\n    if (!internalChartRef.current) return;\n\n    const chart = internalChartRef.current;\n    const annotations = chart.options.plugins?.annotation?.annotations as any;\n\n    if (!annotations) return;\n\n    // Remove existing active line\n    if (annotations.activeTimeLine) {\n      delete annotations.activeTimeLine;\n    }\n\n    // Add active/selected line (black solid) if user is interacting\n    if (activeIndexInWindow !== null && activeIndexInWindow >= 0 && activeIndexInWindow < windowIntervals.length) {\n      annotations.activeTimeLine = {\n        type: 'line',\n        xMin: activeIndexInWindow,\n        xMax: activeIndexInWindow,\n        yMin: 0,\n        yMax: 'max',\n        borderColor: '#000000',\n        borderWidth: 2,\n        borderDash: [0],\n        drawTime: 'afterDatasetsDraw',\n        label: {\n          display: false\n        }\n      };\n    }\n\n    chart.update('none'); // Update without animation, triggers crosshair plugin\n  }, [activeIndexInWindow, windowIntervals.length]);\n\n  // Add double-click to reset and mouse leave to auto-return to current time\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const handleDoubleClick = () => {\n        setActiveIndexInWindow(null);\n        onReset();\n      };\n      const handleMouseLeave = () => {\n        setActiveIndexInWindow(null);\n        onReset();\n      };\n      canvas.addEventListener('dblclick', handleDoubleClick);\n      canvas.addEventListener('mouseleave', handleMouseLeave);\n      return () => {\n        canvas.removeEventListener('dblclick', handleDoubleClick);\n        canvas.removeEventListener('mouseleave', handleMouseLeave);\n      };\n    }\n  }, [onReset]);\n\n  return <canvas ref={canvasRef} />;\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}